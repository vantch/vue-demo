<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>使用监听器侦听模板数据变化</title>
</head>

<body>
    <div class="app">
        <p>
            usename: <input type="text" placeholder="请输入用户名或者邮箱地址" v-model="username">
        </p>
        <p>您输入的内容是：{{username}}</p>
        <p>您是：
            <select name="" id="" v-model.number="level">
                <option value="1">VIP 1</option>
                <option value="2">VIP 2</option>
                <option value="3">VIP 3</option>
            </select>
        </p>
        <p>你的级别是：{{level}}</p>
    </div>
</body>
<script src="./vue.js"></script>
<script>
    var vm = new Vue({
        el: '.app',
        data: {
            username: '',
            level: '1',
            userList: ['admin', 'admins', 'vantch']
        },
        //监听属性，侦听器
        watch: {
            // 监听回调函数的参数（当前的值/已更新的值，第二个参数可选，是原来的值）
            username: function(newValue) {
                this.userList.forEach(function(value) {
                    if (newValue === value) {
                        alert('该用户已存在');
                        document.getElementsByTagName('input').focus();
                    }
                })
            },

            level: function(newValue) {
                switch (newValue) {
                    case 1:
                        alert('VIP1');
                        break;
                    case 2:
                        alert('VIP2');
                        break;
                    case 3:
                        alert('VIP3');
                        break;

                }
            }
        }
    })
</script>

</html>